(function(t){function e(e){for(var s,i,c=e[0],o=e[1],l=e[2],p=0,m=[];p<c.length;p++)i=c[p],r[i]&&m.push(r[i][0]),r[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={1:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-spotify/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([43,0]),a()})({"+392":function(t,e,a){"use strict";var s=a("7kt1"),r=a.n(s);r.a},"/nPF":function(t,e,a){},"0lIv":function(t,e,a){},"1Toy":function(t,e,a){},"1tzi":function(t,e,a){},"2npQ":function(t,e,a){"use strict";var s=a("AP1j"),r=a.n(s);r.a},"36KR":function(t,e,a){},"3YcM":function(t,e,a){},"3b3B":function(t,e,a){},43:function(t,e,a){t.exports=a("Vtdi")},"7Q0j":function(t,e,a){"use strict";var s=a("FM2E"),r=a.n(s);r.a},"7kt1":function(t,e,a){},"7q4L":function(t,e,a){"use strict";var s=a("G1ZO"),r=a.n(s);r.a},"9Fla":function(t,e,a){},"9VuK":function(t,e,a){},"9gEr":function(t,e,a){},A10n:function(t,e,a){},AP1j:function(t,e,a){},CBnG:function(t,e,a){"use strict";var s=a("qHim"),r=a.n(s);r.a},DRU6:function(t,e,a){},ETeX:function(t,e,a){},EU2U:function(t,e,a){"use strict";var s=a("rLu8"),r=a.n(s);r.a},ElSE:function(t,e,a){"use strict";var s=a("LqGo"),r=a.n(s);r.a},FKsJ:function(t,e,a){"use strict";var s=a("iyvT"),r=a.n(s);r.a},FM2E:function(t,e,a){},FvIv:function(t,e,a){"use strict";var s=a("0lIv"),r=a.n(s);r.a},G1ZO:function(t,e,a){},Gjsd:function(t,e,a){},GuTk:function(t,e,a){"use strict";var s=a("RPu6"),r=a.n(s);r.a},ILxL:function(t,e,a){"use strict";var s=a("36KR"),r=a.n(s);r.a},"Iua+":function(t,e,a){"use strict";var s=a("DRU6"),r=a.n(s);r.a},JErL:function(t,e,a){"use strict";var s=a("1Toy"),r=a.n(s);r.a},K4N1:function(t,e,a){"use strict";var s=a("Gjsd"),r=a.n(s);r.a},KXlk:function(t,e,a){"use strict";var s=a("PfrD"),r=a.n(s);r.a},KaJg:function(t,e,a){},Kigq:function(t,e,a){},Ktai:function(t,e,a){},LqGo:function(t,e,a){},NaTC:function(t,e,a){},OC5k:function(t,e,a){"use strict";var s=a("kUzi"),r=a.n(s);r.a},P5rm:function(t,e,a){"use strict";var s=a("3YcM"),r=a.n(s);r.a},PRv6:function(t,e,a){},PfrD:function(t,e,a){},QHT0:function(t,e,a){},QSTz:function(t,e,a){},QjnU:function(t,e,a){"use strict";var s=a("guJ8"),r=a.n(s);r.a},Qv4F:function(t,e,a){"use strict";var s=a("rtCM"),r=a.n(s);r.a},RPu6:function(t,e,a){},RcUy:function(t,e,a){"use strict";var s=a("KaJg"),r=a.n(s);r.a},ReEO:function(t,e,a){"use strict";var s=a("9gEr"),r=a.n(s);r.a},Sn81:function(t,e,a){"use strict";var s=a("3b3B"),r=a.n(s);r.a},Uuq2:function(t,e,a){"use strict";var s=a("9Fla"),r=a.n(s);r.a},VFmt:function(t,e,a){"use strict";var s=a("NaTC"),r=a.n(s);r.a},Vtdi:function(t,e,a){"use strict";a.r(e);a("VRzm");var s=a("Kw5r"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[t._l(t.notifications,function(e){return a("notification",{key:e.id,attrs:{message:e.message,type:e.type,duration:e.duration},on:{"close-notification":function(a){t.removeNotification(e)}}})}),t.notFound?t._e():a("app-layout"),t.notFound?a("not-found-view"):t._e()],2)},n=[],i=a("yT7P"),c=a("L2JU"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-layout"},[a("app-top-bar"),a("div",{staticClass:"app-layout__wrap"},[a("app-sidebar"),a("div",{staticClass:"app-layout__main"},[a("router-view")],1)],1),a("player")],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-bar"},[a("arrow-nav"),a("user-menu")],1)},p=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{staticClass:"user-menu"},[a("div",{staticClass:"user-menu__item"},[a("router-link",{staticClass:"user-menu__link",attrs:{to:{name:"user",params:{id:t.user.id}}}},[t._v("\n      "+t._s(t.user.display_name)+"\n    ")]),a("button",{staticClass:"user-menu__icon",on:{click:t.onClick}},[a("icon",{attrs:{name:"chevron-down"}})],1)],1),a("transition",{attrs:{name:"fade"}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"user-menu__dropdown"},[a("li",{staticClass:"user-menu__list-item",on:{click:t.logout}},[t._v("Logout")])])])],1):t._e()},d=[],f={name:"user-menu",data:function(){return{isVisible:!1}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile"})),methods:Object(i["a"])({},Object(c["b"])("auth",["logout"]),{clickOutEvent:function(t){var e=this.$el.children[0];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible?setTimeout(function(){return document.addEventListener("click",t.clickOutEvent)},100):this.close()},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)}})},h=f,v=(a("P5rm"),a("KHd+")),y=Object(v["a"])(h,m,d,!1,null,"1a9474b5",null),b=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arrow-nav"},[a("a",{staticClass:"arrow-nav__link",on:{click:t.onPrevClick}},[a("icon",{attrs:{name:"chevron-left"}})],1),a("a",{staticClass:"arrow-nav__link",on:{click:t.onNextClick}},[a("icon",{attrs:{name:"chevron-right"}})],1)])},_=[],g={name:"arrow-nav",methods:{onNextClick:function(){this.$router.forward()},onPrevClick:function(){this.$router.back()}}},w=g,C=(a("ReEO"),Object(v["a"])(w,k,_,!1,null,"47295c32",null)),x=C.exports,T={name:"top-bar",components:{UserMenu:b,ArrowNav:x}},A=T,j=(a("RcUy"),Object(v["a"])(A,u,p,!1,null,"c1d597e2",null)),O=j.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"sidebar__inner",on:{scrollReachBottom:t.loadMore}},[a("nav-bar",{attrs:{links:t.browse}}),a("nav-bar",{attrs:{title:"Library",links:t.library}}),a("nav-bar",{attrs:{title:"Playlists",links:t.playlists.items}})],1),a("button",{staticClass:"sidebar__btn",on:{click:function(e){t.$modal.show("playlist-create-modal")}}},[a("icon",{staticClass:"sidebar__btn-icon",attrs:{name:"plus"}}),a("span",[t._v("New playlist")])],1),a("playlist-create-modal")],1)},E=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-bar"},[t.title?a("h2",{staticClass:"nav-bar__title"},[t._v(t._s(t.title))]):t._e(),a("ul",t._l(t.links,function(e,s){return a("router-link",{key:s,staticClass:"nav-bar__item",attrs:{tag:"li","active-class":"nav-bar__item--active",to:t.createRoute(e)}},[t._v("\n      "+t._s(e.name)+"\n      "),t.playbackContext.context&&t.playbackContext.context.uri===e.uri?a("button",{staticClass:"nav-bar__playing-icon icon-sound-on"}):t._e()])}))])},R=[],S=(a("91GP"),{name:"nav-bar",props:{title:{type:String,required:!1},links:{required:!0}},computed:Object(i["a"])({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"})),methods:{test:function(t){return{"nav-bar__item--playing":this.context&&this.context.uri===t}},createRoute:function(t){var e={name:t.type};switch(t.type){case"playlist":Object.assign(e,{params:{user_id:t.owner.id,playlist_id:t.id}});break}return e}}}),U=S,D=(a("VFmt"),Object(v["a"])(U,I,R,!1,null,"39a6a044",null)),F=D.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-create-modal"},[a("v-modal",{attrs:{modalName:t.modalName}},[a("template",{slot:"header"},[t._v("\n      Create Playlist\n    ")]),a("template",{slot:"body"},[a("form",[a("div",[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),a("template",{slot:"footer"},[a("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),a("v-button",{attrs:{onClick:t.create}},[t._v("Create")])],1)],2)],1)},N=[],q=(a("ls82"),a("MECJ")),L=(a("f3/d"),a("vDqi")),V=a.n(L),B="https://stark-harbor-25810.herokuapp.com/",$=V.a.create({baseURL:B}),K=$,z={getUserAuthURL:function(){return K.get("login")},refreshToken:function(t){return K.get("refresh_token?refresh_token=".concat(t))}},Y=V.a.create({baseURL:"https://api.spotify.com/v1/"}),Q=Y,J={getUserProfile:function(t){return t?Q.get("users/".concat(t)):Q.get("me")}},G={getCurrentUserPlaylists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1?arguments[1]:void 0;return Q.get("me/playlists",{params:{limit:t,offset:e}})},getPlaylist:function(t,e,a){return Q.get("users/".concat(t,"/playlists/").concat(e),{params:{fields:a}})},getPlalistsTracks:function(t,e,a,s,r){return Q.get("users/".concat(t,"/playlists/").concat(e,"/tracks"),{params:{fields:r,limit:s,offset:a}})},getUserPlalists:function(t,e,a){return Q.get("users/".concat(t,"/playlists"),{params:{limit:a,offset:e}})},createPlaylist:function(t,e,a){return Q.post("users/".concat(t,"/playlists"),{name:e,description:a})},updatePlaylist:function(t,e,a,s){return Q.put("users/".concat(t,"/playlists/").concat(e),{name:a,description:s})},updatePlaylistCover:function(t,e,a){return Q({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/images"),headers:{"content-type":"image/jpeg"},data:Object(i["a"])({},a)})}},Z={nextTrack:function(t){return Q.post("me/player/next",{device_id:t})},previousTrack:function(t){return Q.post("me/player/previous",{device_id:t})},pause:function(t){return Q.put("me/player/pause",{device_id:t})},play:function(t,e,a){return Q({method:"put",url:"me/player/play",data:Object(i["a"])({offset:e,uris:a},t&&{context_uri:t})})},volume:function(t,e){return Q({method:"put",url:"/me/player/volume",params:{volume_percent:t,device_id:e}})},shuffle:function(t,e){return Q({method:"put",url:"/me/player/shuffle",params:{state:!t,device_id:e}})},repeat:function(t,e){return Q({method:"put",url:"/me/player/repeat",params:{state:t,device_id:e}})},seekToPosition:function(t,e){return Q({method:"put",url:"/me/player/seek",params:{position_ms:t,device_id:e}})},getUserDevices:function(){return Q.get("me/player/devices")},getCurrentPlayback:function(){return Q.get("me/player")},transferUsersPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Q.put("me/player",{device_ids:t,play:e})}},H={getTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0;return Q.get("me/tracks",{params:{limit:e,offset:t,market:a}})},getAlbums:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0;return Q.get("me/albums",{params:{limit:e,offset:t,market:a}})},checkUserSavedTracks:function(t){return Q.get("me/tracks/contains",{params:{ids:t}})},saveTracks:function(t){return Q.put("me/tracks",{ids:t})},removeTracks:function(t){return Q.delete("me/tracks",{data:{ids:t}})}},W={getNewReleases:function(t,e,a){return Q.get("browse/new-releases",{params:{limit:e,offset:t,country:a}})},getCategories:function(t,e,a,s){return Q.get("browse/categories",{params:{limit:e,offset:t,country:a,locale:s}})},getCategoryPlaylists:function(t,e,a,s){return Q.get("browse/categories/".concat(t,"/playlists"),{params:{category_id:t,limit:a,offset:e,country:s}})}},X={getAlbum:function(t){return Q.get("albums/".concat(t))},getAlbumTracks:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,s=arguments.length>3?arguments[3]:void 0;return Q.get("albums/".concat(t,"/tracks"),{params:{limit:a,offset:e,market:s}})},getAlbums:function(t,e){return Q.get("albums",{ids:t,market:e})}},tt={getArtist:function(t){return Q.get("artists/".concat(t))},getArtistTopTracks:function(t,e){return Q.get("artists/".concat(t,"/top-tracks"),{params:{country:e}})},getArtistAlbums:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4?arguments[4]:void 0;return Q.get("artists/".concat(t,"/albums"),{params:{include_groups:e,limit:s,offset:a,market:r}})}},et={followArtist:function(t,e){return Q.put("me/following",{params:{type:t,ids:e}})},unfollowArtist:function(t,e){return Q.delete("me/following",{params:{type:t,ids:e}})},checkIfUserFollowPlaylist:function(t,e,a){return Q.get("users/".concat(t,"/playlists/").concat(e,"/followers/contains"),{params:{ids:a}})},followPlaylist:function(t,e){return Q({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/followers"),headers:{"content-type":"application/json"}})},unfollowPlaylist:function(t,e){return Q.delete("users/".concat(t,"/playlists/").concat(e,"/followers"))},getFollowedArtists:function(t,e){return Q.get("me/following?type=artist",{params:{limit:t,after:e}})}},at={request:Q,users:J,playlists:G,player:Z,library:H,browse:W,albums:X,artists:tt,follow:et},st={auth:z,spotify:at},rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.elClass,on:{click:t.onClick}},[t._t("default")],2)},nt=[],it={name:"Button",props:{onClick:{required:!0},isBlack:{default:!1}},computed:{elClass:function(){return["btn",{"btn--black":this.isBlack}]}}},ct=it,ot=(a("7q4L"),Object(v["a"])(ct,rt,nt,!1,null,"081b7ae6",null)),lt=ot.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("modal",{attrs:{name:t.modalName,width:t.width}},[a("div",{staticClass:"modal__header"},[t._t("header")],2),a("div",{staticClass:"modal__body"},[t._t("body")],2),a("div",{staticClass:"modal__footer"},[t._t("footer")],2)])],1)},pt=[],mt={name:"v-modal",props:{modalName:{type:String,required:!0},width:{required:!1,default:"400px"}},computed:{}},dt=mt,ft=(a("q5br"),Object(v["a"])(dt,ut,pt,!1,null,null,null)),ht=ft.exports,vt={name:"playlist-modal",components:{VButton:lt,VModal:ht},data:function(){return{modalName:"playlist-create-modal",name:"",description:""}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile"})),methods:Object(i["a"])({},Object(c["b"])({addNotification:"notification/addNotification",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"}),{hide:function(){this.$modal.hide(this.modalName)},clearForm:function(){this.name="",this.description=""},validate:function(){var t=!0;return this.name?t:(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},create:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,t.next=4,st.spotify.playlists.createPlaylist(this.user.id,this.name,this.description);case 4:e=t.sent,this.clearUserPlaylists(),this.getUserPlaylists(),this.$router.push({name:"playlist",params:{user_id:this.user.id,playlist_id:e.data.id}}),this.hide(),this.clearForm(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}()})},yt=vt,bt=(a("Uuq2"),Object(v["a"])(yt,M,N,!1,null,null,null)),kt=bt.exports,_t={name:"app-sidebar",components:{PlaylistCreateModal:kt,NavBar:F},computed:Object(i["a"])({},Object(c["c"])("user",{playlists:"getPlaylists"}),{browse:function(){return[{type:"browse",name:"Browse"}]},library:function(){return[{type:"tracks-collection",name:"Songs"},{type:"albums-collection",name:"Albums"},{type:"artists-collection",name:"Artists"}]}}),methods:Object(i["a"])({},Object(c["b"])("user",{getUserPlaylists:"getCurrentUserPlaylists"}),{loadMore:function(){this.getUserPlaylists(25)}}),created:function(){this.getUserPlaylists()}},gt=_t,wt=(a("kf6z"),Object(v["a"])(gt,P,E,!1,null,"0ed30584",null)),Ct=wt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[t.playback?a("div",{staticClass:"player__inner"},[a("current-track",{staticClass:"player__left"}),a("div",{staticClass:"player__center"},[a("player-controls"),a("player-playback")],1),a("div",{staticClass:"player__right"},[a("device-picker"),a("volume-bar")],1)],1):t._e()])},Tt=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"volume-bar"},[a("button",{class:t.classesButton,on:{click:t.onButtonClick}}),a("vue-slider",{staticClass:"volume-bar__slider",attrs:{tooltip:!1,"dot-size":15,"process-style":{background:"#1db954"},"bg-style":{background:"#737575",width:"80px"}},on:{"drag-start":t.onDragStart,callback:t.onSliderChange,"drag-end":t.onDragEnd},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)},jt=[],Ot={name:"volume-bar",data:function(){return{volume:0,tmpVolume:0,dragStartVolume:0}},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback"}),{classesButton:function(){return["volume-bar__button",{"icon-sound-on":this.volume,"icon-sound-off":!this.volume}]}}),methods:{setVolume:function(t){try{st.spotify.player.volume(t)}catch(t){console.log(t)}},onButtonClick:function(){this.volume>0?(this.tmpVolume=this.volume,this.volume=0):this.volume=this.tmpVolume,this.setVolume(this.volume)},onDragStart:function(t){var e=t.currentValue;this.dragStartVolume=e},onDragEnd:function(t){var e=t.currentValue;this.setVolume(e)},onSliderChange:function(t){var e=Math.abs(this.dragStartVolume-t);e>=10&&(this.dragStartVolume=t,this.setVolume(t))}},watch:{playback:function(t){this.volume=t.device.volume_percent}},mounted:function(){this.volume=this.playback.device.volume_percent}},Pt=Ot,Et=(a("pEG8"),Object(v["a"])(Pt,At,jt,!1,null,null,null)),It=Et.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.playback?a("div",{staticClass:"current-track"},[a("div",{staticClass:"current-track__cover"},[a("router-link",{attrs:{to:t.createUrlForCover(t.playback.context)}},[a("img",{staticClass:"current-track__img",attrs:{src:t.playback.item.album.images[2].url}})])],1),a("div",{staticClass:"current-track__info"},[a("router-link",{staticClass:"current-track__name",attrs:{to:{name:"album",params:{id:t.playback.item.album.id}}}},[t._v("\n      "+t._s(t.playback.item.name)+"\n    ")]),a("track-addition",{attrs:{trackID:t.currentTrackID,isSaved:t.isSavedTrack},on:{updateTrackstatus:t.onTrackUpdate}}),a("div",{staticClass:"current-track__artists"},t._l(t.playback.item.artists,function(e,s){return a("router-link",{key:s,staticClass:"current-track__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),s!==t.playback.item.artists.length-1?[t._v(", ")]:t._e()],2)}))],1)]):t._e()},St=[],Ut=(a("KKXr"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"track-addition"},[t.isSaved?t._e():a("button",{staticClass:"track-addition__button",attrs:{title:"Save to your library"},on:{click:t.saveTrack}},[a("icon",{attrs:{name:"plus"}})],1),t.isSaved?a("button",{staticClass:"track-addition__button track-addition__button--remove",attrs:{title:"Remove from your library"},on:{click:t.removeTrack}},[a("icon",{staticClass:"track-addition__check-icon",attrs:{name:"check"}}),a("icon",{staticClass:"track-addition__times-icon",attrs:{name:"times"}})],1):t._e()])}),Dt=[],Ft={name:"track-addition",components:{},props:{trackID:{required:!0},isSaved:{default:!1}},data:function(){return{}},computed:Object(i["a"])({},Object(c["c"])("library",{savedTrack:"getSavedTrack",removedTrack:"getRemovedTrack"})),methods:Object(i["a"])({},Object(c["b"])("library",{saveLastTrack:"saveTrack",removeLastTrack:"removeTrack"}),{saveTrack:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.library.saveTracks([this.trackID]);case 3:this.saveLastTrack(this.trackID),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),removeTrack:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.library.removeTracks([this.trackID]);case 3:this.removeLastTrack(this.trackID),this.$emit("savedTrackRemove",this.trackID),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()}),watch:{savedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)},removedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)}}},Mt=Ft,Nt=(a("oc1J"),Object(v["a"])(Mt,Ut,Dt,!1,null,"59a1bf18",null)),qt=Nt.exports,Lt={name:"current-track",components:{TrackAddition:qt},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback"})),data:function(){return{currentTrackID:"",isSavedTrack:!1}},methods:{checkSavedTrack:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.library.checkUserSavedTracks(e);case 3:a=t.sent,this.isSavedTrack=a.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),createUrlForCover:function(t){if(t){var e=t.uri.split(":"),a={name:t.type};switch(t.type){case"playlist":Object.assign(a,{params:{user_id:e[2],playlist_id:e[e.length-1]}});break;case"album":case"artist":Object.assign(a,{params:{id:e[e.length-1]}});break}return a}return{}},onTrackUpdate:function(t){this.checkSavedTrack(t)}},watch:{playback:function(){this.currentTrackID!==this.playback.item.id&&(this.currentTrackID=this.playback.item.id),this.checkSavedTrack(this.currentTrackID)}},created:function(){this.currentTrackID=this.playback.item.id,this.checkSavedTrack(this.currentTrackID)}},Vt=Lt,Bt=(a("ElSE"),Object(v["a"])(Vt,Rt,St,!1,null,null,null)),$t=Bt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.playback?a("div",{staticClass:"player-controls"},[a("button",{class:t.classesShuffle,attrs:{title:"Shuffle"},on:{click:t.shuffle}}),a("button",{staticClass:"player-controls__button icon-previous",attrs:{title:"Previous"},on:{click:t.prev}}),t.context.paused?[a("button",{staticClass:"player-controls__button player-controls__button--play icon-play-circle",on:{click:t.play}})]:[a("button",{staticClass:"player-controls__button player-controls__button--pause icon-pause-circle",on:{click:t.pause}})],a("button",{staticClass:"player-controls__button icon-next",attrs:{title:"Next"},on:{click:t.next}}),a("button",{class:t.classesRepeat,attrs:{title:"Repeat"},on:{click:t.repeat}})],2):t._e()},zt=[],Yt=(a("FLlr"),{name:"player-controls",computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"}),{classesShuffle:function(){return["player-controls__button","icon-shuffle",{"player-controls__button--active":this.context.shuffle}]},classesRepeat:function(){return["player-controls__button",{"icon-repeat":2!==this.context.repeat_mode,"icon-repeat-one":2===this.context.repeat_mode,"player-controls__button--active":this.context.repeat_mode>0}]}}),methods:{next:function(){st.spotify.player.nextTrack()},prev:function(){st.spotify.player.previousTrack()},pause:function(){st.spotify.player.pause()},play:function(){st.spotify.player.play()},shuffle:function(){st.spotify.player.shuffle(this.context.shuffle)},repeat:function(){var t=["off","context","track"],e=this.context.repeat_mode,a=2===e?0:e+1;st.spotify.player.repeat(t[a])}}}),Qt=Yt,Jt=(a("2npQ"),Object(v["a"])(Qt,Kt,zt,!1,null,"097d8d5c",null)),Gt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.context?a("div",{staticClass:"player-playback"},[a("div",{staticClass:"player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.progress)))]),a("div",{staticClass:"player-playback__progress-bar"},[a("vue-slider",{attrs:{max:t.songDuration,tooltip:!1,"dot-size":15,"process-style":{background:"#1db954"},"bg-style":{background:"#737575"}},on:{"drag-start":t.onDragStart,callback:t.onProgressChange,"drag-end":t.onDragEnd},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),a("div",{staticClass:" player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.songDuration)))])]):t._e()},Ht=[],Wt={name:"player-player-playback",data:function(){return{progress:0,progressInterval:null,isDragStart:!1,songDuration:0}},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext",isPlaying:"isPlaying"})),methods:{updateProgress:function(){var t=this;clearInterval(this.progressInterval),this.progress=this.context.position,this.context.paused||(this.progressInterval=setInterval(function(){t.playback&&t.progress+1e3<=t.songDuration&&(t.progress=t.progress+1e3)},1e3))},onDragStart:function(t){t.currentValue;this.isDragStart=!0},onDragEnd:function(t){var e=t.currentValue;this.isDragStart=!1,st.spotify.player.seekToPosition(e)},onProgressChange:function(t){this.isDragStart||(this.isDragStart=!1,st.spotify.player.seekToPosition(t))}},watch:{playback:function(){this.songDuration=this.playback.item.duration_ms},context:function(){this.progress=this.context.position},isPlaying:function(){this.updateProgress()}},created:function(){this.updateProgress(),this.songDuration=this.playback.item.duration_ms}},Xt=Wt,te=(a("EU2U"),Object(v["a"])(Xt,Zt,Ht,!1,null,null,null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.elClass},[s("button",{staticClass:"device-picker__button",on:{click:t.onClick}},[s("icon",{staticClass:"device-picker__button-d",attrs:{name:"desktop"}}),s("icon",{staticClass:"device-picker__button-m",attrs:{name:"mobile-alt"}})],1),t.isVisible?s("div",{staticClass:"device-picker__container"},[s("h3",{staticClass:"device-picker__title"},[t._v("Connect to a device")]),s("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"device-picker__content"},[s("img",{staticClass:"device-picker__header",attrs:{src:a("wSHa"),alt:"connect-header"}}),s("ul",{staticClass:"device-picker__list"},t._l(t.devices,function(e,a){return s("li",{key:a,staticClass:"device-picker__list-item",class:{"device-picker__list-item--active":e.is_active}},[s("button",{staticClass:"device-picker__list-item",on:{click:function(a){t.onDeviceConnect(e.id)}}},["Smartphone"===e.type?s("icon",{staticClass:"device-picker__device-icon",attrs:{name:"mobile-alt"}}):t._e(),"Computer"===e.type?s("icon",{staticClass:"device-picker__device-icon",attrs:{name:"laptop"}}):t._e(),s("div",{staticClass:"device-picker__device-info"},[s("span",{staticClass:"device-picker__device-title"},[e.is_active?t._e():[t._v(t._s(e.name))],e.is_active?[t._v("Listening On")]:t._e()],2),s("span",{staticClass:"device-picker__device-subtitle icon-sound-on"},[e.is_active?[t._v(t._s(e.name))]:[t._v(" Spotify Connect")]],2)])],1)])}))])]):t._e()])},se=[],re={name:"device-picker",data:function(){return{devices:null,isVisible:!1}},computed:{elClass:function(){return["device-picker",{"device-picker--opened":this.isVisible}]}},methods:{getUserDevices:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.player.getUserDevices();case 3:e=t.sent,this.devices=e.data.devices,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),clickOutEvent:function(t){var e=this.$el.children[1];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible&&setTimeout(function(){return document.addEventListener("click",t.clickOutEvent)},100)},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)},onDeviceConnect:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.player.transferUsersPlayback([e],!0);case 3:this.close(),setTimeout(function(){a.getUserDevices()},500),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getUserDevices()}},ne=re,ie=(a("itQo"),Object(v["a"])(ne,ae,se,!1,null,null,null)),ce=ie.exports,oe={name:"player",components:{VolumeBar:It,CurrentTrack:$t,PlayerControls:Gt,PlayerPlayback:ee,DevicePicker:ce},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback"}))},le=oe,ue=(a("OC5k"),Object(v["a"])(le,xt,Tt,!1,null,"5bb394de",null)),pe=ue.exports,me={name:"AppLayout",components:{AppTopBar:O,AppSidebar:Ct,Player:pe}},de=me,fe=(a("evF8"),Object(v["a"])(de,o,l,!1,null,"005780f4",null)),he=fe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found-view"},[a("div",{staticClass:"not-found-view__content"},[t._m(0),a("v-button",{attrs:{onClick:t.onBackButton}},[t._v("Return to the app")])],1)])},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Sorry, it looks like we couldn't find what you're looking for. "),a("br"),t._v("Click the button below to go back.")])}],be={name:"NotFound",components:{vButton:lt},methods:{onBackButton:function(){this.$router.push("/")}}},ke=be,_e=(a("Iua+"),Object(v["a"])(ke,ve,ye,!1,null,"2a0885a2",null)),ge=_e.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.elClass},[a("span",{domProps:{innerHTML:t._s(t.message)}}),a("button",{staticClass:"notification__close-btn",attrs:{type:"button","aria-label":"Close alert"},on:{click:function(e){t.close()}}},[a("icon",{attrs:{name:"times-circle"}})],1)])},Ce=[],xe=(a("xfY5"),{name:"notification",props:{type:{type:String,default:"info"},message:{type:String,required:!0},duration:{type:Number,default:4500}},data:function(){return{show:!0,timer:null}},computed:{elClass:function(){return["notification",this.type?"notification--".concat(this.type):""]}},methods:{close:function(){clearTimeout(this.timer),this.show=!1,this.$emit("close-notification")}},mounted:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){return t.close()},this.duration))}}),Te=xe,Ae=(a("YFXz"),Object(v["a"])(Te,we,Ce,!1,null,"40079dda",null)),je=Ae.exports,Oe={name:"app",components:{AppLayout:he,NotFoundView:ge,Notification:je},computed:Object(i["a"])({},Object(c["c"])({notFound:"app/notFound",notifications:"notification/getNotifications"})),methods:Object(i["a"])({},Object(c["b"])({init:"app/init",removeNotification:"notification/removeNotification"})),created:function(){this.init()}},Pe=Oe,Ee=(a("Qv4F"),Object(v["a"])(Pe,r,n,!1,null,null,null)),Ie=Ee.exports,Re=a("jE9Z"),Se=a("DkTT"),Ue={notFound:!1},De={notFound:function(t){return t.notFound}},Fe={SET_NOT_FOUND:function(t,e){t.notFound=e}},Me={notFoundPage:function(t,e){var a=t.commit;a("SET_NOT_FOUND",e)},init:function(t){var e=t.dispatch,a=t.rootGetters;a["auth/getAccessToken"]&&e("user/getUserProfile",null,{root:!0}),e("player/init",null,{root:!0})}},Ne={namespaced:!0,state:Ue,getters:De,mutations:Fe,actions:Me},qe=Ne,Le={accessToken:"",refreshToken:"",expiryTime:""},Ve={getAccessToken:function(t){return t.accessToken},getRefreshToken:function(t){return t.refreshToken},getExpiryTime:function(t){return t.expiryTime}},Be={SET_ACCESS_TOKEN:function(t,e){t.accessToken=e},SET_REFRESH_TOKEN:function(t,e){t.refreshToken=e},SET_EXPIRY_TIME:function(t,e){t.expiryTime=e}},$e={login:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.auth.getUserAuthURL();case 3:e=t.sent,e.data&&(window.location.href=e.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),refreshToken:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,s=e.state,t.prev=1,!s.refreshToken){t.next=8;break}return t.next=5,st.auth.refreshToken(s.refreshToken);case 5:return r=t.sent,a("SET_ACCESS_TOKEN",r.data.access_token),t.abrupt("return",r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),logout:function(){var t=document.createElement("script");t.src="https://www.spotify.com/logout/",document.getElementById("app").appendChild(t),window.localStorage.clear(),window.sessionStorage.clear(),setTimeout(function(){location.reload()},1e3)},setAccessToken:function(t,e){var a=t.commit;a("SET_ACCESS_TOKEN",e)},setRefreshToken:function(t,e){var a=t.commit;a("SET_REFRESH_TOKEN",e)},setExpiryTime:function(t,e){var a=t.commit;a("SET_EXPIRY_TIME",e)}},Ke={namespaced:!0,state:Le,getters:Ve,mutations:Be,actions:$e},ze=Ke,Ye=a("iv4g"),Qe={profile:"",playlists:""},Je={getProfile:function(t){return t.profile},getPlaylists:function(t){return t.playlists}},Ge={SET_PROFILE:function(t,e){t.profile=e},SET_PLAYLISTS:function(t,e){var a;t.playlists?(t.playlists.limit=e.limit,t.playlists.offset=e.offset,t.playlists.next=e.next,t.playlists.total=e.total,(a=t.playlists.items).push.apply(a,Object(Ye["a"])(e.items))):t.playlists=e},CLEAR_PLAYLISTS:function(t){t.playlists=""}},Ze={getUserProfile:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,st.spotify.users.getUserProfile();case 4:s=t.sent,a("SET_PROFILE",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),getCurrentUserPlaylists:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,n,i,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.getters,s=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:50,n=0,a.getPlaylists&&(n=a.getPlaylists.limit+a.getPlaylists.offset),a.getPlaylists.total<n){t.next=15;break}return t.prev=5,t.next=8,st.spotify.playlists.getCurrentUserPlaylists(r,n);case 8:i=t.sent,s("SET_PLAYLISTS",i.data),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[5,12]])}));return function(e){return t.apply(this,arguments)}}(),clearUserPlaylists:function(t){var e=t.commit;e("CLEAR_PLAYLISTS")}},He={namespaced:!0,state:Qe,getters:Je,mutations:Ge,actions:Ze},We=He,Xe={deviceID:"",playback:"",playbackContext:""},ta={getDeviceID:function(t){return t.deviceID},getPlayback:function(t){return t.playback},getPlaybackContext:function(t){return t.playbackContext},isPlaying:function(t){return t.playback.is_playing}},ea={SET_DEVICE_ID:function(t,e){t.deviceID=e},SET_PLAYBACK:function(t,e){t.playback=e},SET_PLAYBACK_CONTEXT:function(t,e){t.playbackContext=e}},aa={init:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,n,i,c,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=function(){return o=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var a=setInterval(Object(q["a"])(regeneratorRuntime.mark(function s(){var r;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.getCurrentState();case 2:r=s.sent,null!==r&&(t(r),clearInterval(a));case 4:case"end":return s.stop()}},s,this)})))}));case 1:case"end":return t.stop()}},t,this)})),o.apply(this,arguments)},c=function(t){return o.apply(this,arguments)},i=function(){return i=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){window.Spotify?t(window.Spotify):window.onSpotifyWebPlaybackSDKReady=function(){t(window.Spotify)}}));case 1:case"end":return t.stop()}},t,this)})),i.apply(this,arguments)},n=function(){return i.apply(this,arguments)},a=e.commit,s=e.rootGetters,r=e.dispatch,window.onSpotifyWebPlaybackSDKReady=function(){},Object(q["a"])(regeneratorRuntime.mark(function t(){var e,i,o,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:return e=t.sent,i=e.Player,o=s["auth/getAccessToken"],l=new i({name:"Vue Spotify Web Player",getOAuthToken:function(t){t(o)}}),l.addListener("initialization_error",function(t){var e=t.message;console.error(e)}),l.addListener("authentication_error",function(t){var e=t.message;console.error(e),r("auth/login",null,{root:!0})}),l.addListener("account_error",function(t){var e=t.message;console.error(e)}),l.addListener("playback_error",function(t){var e=t.message;console.error(e)}),l.addListener("player_state_changed",function(t){t&&(r("setPlaybackContext",t),r("setPlayback"))}),l.addListener("ready",function(t){var e=t.device_id;console.log("Ready with Device ID",e),a("SET_DEVICE_ID",e),st.spotify.player.transferUsersPlayback([e],!0)}),l.addListener("not_ready",function(t){var e=t.device_id;console.log("Device ID has gone offline",e)}),t.next=15,l.connect();case 15:if(u=t.sent,!u){t.next=19;break}return t.next=19,c(l);case 19:case"end":return t.stop()}},t,this)}))();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),setPlayback:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,st.spotify.player.getCurrentPlayback();case 4:s=t.sent,a("SET_PLAYBACK",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),setPlaybackContext:function(t,e){var a=t.commit;a("SET_PLAYBACK_CONTEXT",e)}},sa={namespaced:!0,state:Xe,getters:ta,mutations:ea,actions:aa},ra=sa,na={lastSavedTrack:"",lastRemovedTrack:""},ia={getSavedTrack:function(t){return t.lastSavedTrack},getRemovedTrack:function(t){return t.lastRemovedTrack}},ca={SET_SAVED_TRACK:function(t,e){t.lastRemovedTrack="",t.lastSavedTrack=e},SET_REMOVED_TRACK:function(t,e){t.lastSavedTrack="",t.lastRemovedTrack=e}},oa={saveTrack:function(t,e){var a=t.commit;a("SET_SAVED_TRACK",e)},removeTrack:function(t,e){var a=t.commit;a("SET_REMOVED_TRACK",e)}},la={namespaced:!0,state:na,getters:ia,mutations:ca,actions:oa},ua=la,pa={playlist:""},ma={getPlaylist:function(t){return t.playlist}},da={SET_PLAYLIST:function(t,e){t.playlist=e}},fa={fetchPlaylist:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e,a){var s,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,r="uri, name, type, images, description, owner, followers",t.next=5,st.spotify.playlists.getPlaylist(a.userID,a.playlistID,r);case 5:n=t.sent,s("SET_PLAYLIST",n.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e,a){return t.apply(this,arguments)}}()},ha={namespaced:!0,state:pa,getters:ma,mutations:da,actions:fa},va=ha,ya={notifications:[]},ba={getNotifications:function(t){return t.notifications}},ka={NOTIFICATION_ADD:function(t,e){t.notifications.push(e)},NOTIFICATION_REMOVE:function(t,e){var a=t.notifications.indexOf(e);t.notifications.splice(a,1)}},_a={addNotification:function(t,e){var a=t.commit;a("NOTIFICATION_ADD",e)},removeNotification:function(t,e){var a=t.commit;a("NOTIFICATION_REMOVE",e)}},ga={namespaced:!0,state:ya,getters:ba,mutations:ka,actions:_a},wa=ga,Ca=!1,xa=function(t){Q.interceptors.request.use(function(e){return t.getters["auth/getAccessToken"]&&(e.headers.common["Authorization"]="Bearer ".concat(t.getters["auth/getAccessToken"])),e},null),Q.interceptors.response.use(null,function(e){var a=e.response.status;if(t.getters["auth/getAccessToken"]&&401===a&&!Ca)Ca=!0,t.dispatch("auth/refreshToken").then(function(){Ca=!1,location.reload()});else{if(404===a)throw e.response;403===a?console.warn("403 - You need to have premium account"):t.dispatch("auth/login")}})},Ta=xa,Aa=!1;s["a"].use(c["a"]);var ja=Object(Se["a"])({key:"spotify_app_state",reducer:function(t){return{auth:t.auth}}}),Oa=new c["a"].Store({modules:{app:qe,auth:ze,user:We,player:ra,library:ua,playlist:va,notification:wa},plugins:[Ta,ja],strict:Aa}),Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"})},Ea=[],Ia={name:"Login",methods:Object(i["a"])({},Object(c["b"])("auth",["setAccessToken","setRefreshToken","setExpiryTime"])),created:function(){var t=this.$route.query,e=t.access_token,a=t.refresh_token,s=t.expires_in,r=t.error;r?console.error(r):e&&a&&s&&(this.setAccessToken(e),this.setRefreshToken(a),this.setExpiryTime(s)),an.push("/")}},Ra=Ia,Sa=Object(v["a"])(Ra,Pa,Ea,!1,null,null,null),Ua=Sa.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"user-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"user-view__info"},[t.user.images&&t.user.images[0]?a("img",{staticClass:"user-view__avatar",attrs:{src:t.user.images[0].url}}):a("div",{staticClass:"user-view__avatar"},[a("icon",{staticClass:"user-view__user-icon",attrs:{name:"user"}})],1),a("h1",{staticClass:"user-view__name"},[t._v(t._s(t.user.display_name))])]),t.playlists.items.length?a("entity-header",{attrs:{title:"Public Playlists",small:!0}}):t._e(),a("media-container",t._l(t.playlists.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})}))],1)},Fa=[],Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("h2",{staticClass:"entity-header__title"},[t._v(t._s(t.title))])])},Na=[],qa=(a("84bF"),{name:"entity-header",props:{title:{type:String},small:{type:Boolean,default:!1}},computed:{elClass:function(){return["entity-header",{"entity-header--small":this.small}]}}}),La=qa,Va=(a("KXlk"),Object(v["a"])(La,Ma,Na,!1,null,"16f0d6c8",null)),Ba=Va.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("router-link",{staticClass:"media-object__cover",attrs:{tag:"div",to:t.createUrl()}},[t.coverImg[0]?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverImg[0].url,expression:"coverImg[0].url"}],staticClass:"media-object__cover-inner",attrs:{alt:t.name+"-cover"}}):a("div",{staticClass:"media-object__cover-inner"},[a("icon",{staticClass:"media-object__music-icon",attrs:{name:"music"}})],1),a("div",{staticClass:"media-object__cover-hover"},[a("button",{staticClass:"media-object__play icon-play-circle",on:{click:t.onPlay}}),a("button",{staticClass:"media-object__sound-on icon-sound-on"}),a("button",{staticClass:"media-object__pause icon-pause-circle",on:{click:t.onPause}})])]),a("div",{staticClass:"media-object__info"},[a("div",[a("router-link",{staticClass:"media-object__name",attrs:{to:t.createUrl()}},[t._v(t._s(t.name))])],1),t._l(t.artists,function(e,s){return t.artists?a("router-link",{key:e.id,staticClass:"media-object__artist",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n      "+t._s(e.name)+"\n      "),s!==t.artists.length-1?[t._v(", ")]:t._e()],2):t._e()})],2)],1)},Ka=[],za={name:"media-object",props:{id:{required:!0},uri:{required:!0},coverImg:{required:!0},name:{type:String,required:!0},type:{required:!0},artists:{required:!1}},computed:Object(i["a"])({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"}),{elClass:function(){return["media-object",{"media-object--playing":this.playbackContext&&!this.playbackContext.paused&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--active":this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--no-image":!this.coverImg[0]}]}}),methods:{createUrl:function(){var t=this.uri.split(":"),e=null;switch(this.type){case"album":e={name:"album",params:{id:this.id}};break;case"artist":e={name:"artist",params:{id:this.id}};break;case"playlist":e={name:"playlist",params:{user_id:t[2],playlist_id:t[t.length-1]}};break}return e},onPlay:function(t){t.stopPropagation(),this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0?st.spotify.player.play():st.spotify.player.play(this.uri)},onPause:function(t){t.stopPropagation(),st.spotify.player.pause()}}},Ya=za,Qa=(a("wky4"),Object(v["a"])(Ya,$a,Ka,!1,null,"acd987b2",null)),Ja=Qa.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-container"},[t._t("default")],2)},Za=[],Ha={name:"media-container"},Wa=Ha,Xa=(a("yxEA"),Object(v["a"])(Wa,Ga,Za,!1,null,null,null)),ts=Xa.exports,es={name:"user-view",components:{EntityHeader:Ba,MediaObject:Ja,MediaContainer:ts},data:function(){return{user:"",userID:"",playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},methods:Object(i["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getUser:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.users.getUserProfile(e);case 3:a=t.sent,this.user=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getUserPlaylists:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=9;break}return t.next=4,st.spotify.playlists.getUserPlalists(e,this.playlists.offset,this.playlists.limit);case 4:s=t.sent,this.playlists.offset=s.data.offset+this.playlists.limit,this.playlists.total=s.data.total,(a=this.playlists.items).push.apply(a,Object(Ye["a"])(s.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getUserPlaylists(this.userID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),created:function(){this.userID=this.$route.params.id,this.getUser(this.userID),this.getUserPlaylists(this.userID)}},as=es,ss=(a("QjnU"),Object(v["a"])(as,Da,Fa,!1,null,"47725747",null)),rs=ss.exports,ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browse-view"},[a("ul",{staticClass:"browse-view__nav"},[a("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-genres"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      Genres & Moods\n    ")]),a("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-new-releases"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      New releases\n    ")])],1),a("div",{staticClass:"browse-view__content"},[a("router-view")],1)])},is=[],cs={name:"browse-view"},os=cs,ls=(a("ho3C"),Object(v["a"])(os,ns,is,!1,null,"7250b8fa",null)),us=ls.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view"},[a("entity-header",{attrs:{title:"Genres & Moods",small:!0}}),a("div",{staticClass:"genres-view__inner"},t._l(t.categories,function(e,s){return a("div",{key:s,staticClass:"genres-view__category"},[a("router-link",{attrs:{to:{name:"genres",params:{id:e.id}}}},[a("img",{staticClass:"genres-view__category-img",attrs:{src:e.icons[0].url,alt:e.name}}),a("div",{staticClass:"genres-view__category-name"},[t._v(t._s(e.name))])])],1)}))],1)},ms=[],ds={name:"genres",components:{EntityHeader:Ba},data:function(){return{categories:""}},methods:{getCategories:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.browse.getCategories();case 3:e=t.sent,this.categories=e.data.categories.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},created:function(){this.getCategories()}},fs=ds,hs=(a("r3qe"),Object(v["a"])(fs,ps,ms,!1,null,"ab002e32",null)),vs=hs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:t.title}}),a("media-container",t._l(t.playlists.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})}))],1)},bs=[],ks=(a("pIFo"),{name:"genres",components:{EntityHeader:Ba,MediaObject:Ja,MediaContainer:ts},data:function(){return{categoryID:null,playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},computed:{title:function(){return"".concat(this.categoryID.replace("_"," ")," playlists")}},methods:Object(i["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getCategoryPlaylists:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=10;break}return t.next=4,st.spotify.browse.getCategoryPlaylists(e,this.playlists.offset,this.playlists.limit);case 4:s=t.sent,r=s.data.playlists,this.playlists.offset=r.offset+this.playlists.limit,this.playlists.total=r.total,(a=this.playlists.items).push.apply(a,Object(Ye["a"])(r.items)),this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.notFoundPage(!0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getCategoryPlaylists(this.categoryID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),created:function(){var t=this.$route.params.id;this.categoryID=t,this.getCategoryPlaylists(t)}}),_s=ks,gs=(a("ILxL"),Object(v["a"])(_s,ys,bs,!1,null,null,null)),ws=gs.exports,Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"new-releases-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"New albums & singles",small:!0}}),a("div",{staticClass:"new-releases-view__inner"},[a("media-container",t._l(t.albums.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,artists:t.artists,type:t.type}})}))],1)],1)},xs=[],Ts={name:"new-releases",components:{EntityHeader:Ba,MediaObject:Ja,MediaContainer:ts},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},more:null}},methods:{getNewReleases:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,st.spotify.browse.getNewReleases(this.albums.offset,this.albums.limit);case 4:a=t.sent,this.albums.offset=a.data.albums.offset+this.albums.limit,this.albums.total=a.data.albums.total,(e=this.albums.items).push.apply(e,Object(Ye["a"])(a.data.albums.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getNewReleases());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getNewReleases()}},As=Ts,js=(a("lXvA"),Object(v["a"])(As,Cs,xs,!1,null,"f49edf78",null)),Os=js.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artist-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"artist-view__content"},[t.artist?a("entity-info",{attrs:{coverImg:t.artist.images,type:t.artist.type,name:t.artist.name,uri:t.artist.uri,followers:t.artist.followers.total}}):t._e(),a("entity-header",{attrs:{title:"Popular",small:!0}}),a("tracks-list",{attrs:{tracks:t.tracks}}),t.albums?a("entity-header",{attrs:{title:"Albums",small:!0}}):t._e(),a("media-container",t._l(t.albums.items,function(e,s){return t.albums?a("media-object",{key:s,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,artists:e.artists,type:e.type}}):t._e()}))],1)])},Es=[],Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("div",{staticClass:"entity-info__cover"},[t.coverImg[0]?a("img",{staticClass:"entity-info__cover-img",attrs:{src:t.coverImg[0].url,alt:"cover"}}):t._e(),a("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"music"}}),a("div",{staticClass:"entity-info__cover-hover",attrs:{title:"Edit image"},on:{click:t.onCoverClick}},[a("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"pencil-alt"}})],1)],1),a("div",{staticClass:"entity-info__info"},[a("div",{staticClass:"entity-info__type"},[t._v(t._s(t.type))]),a("h2",{staticClass:"entity-info__name"},[t._v(t._s(t.name))]),t.description?a("p",{staticClass:"entity-info__desc",domProps:{innerHTML:t._s(t.$options.filters.convertURLs(t.description))}}):t._e(),t.artists?a("div",{staticClass:"entity-info__artists"},[t._v("\n      By\n      "),t._l(t.artists,function(e,s){return a("router-link",{key:s,staticClass:"entity-info__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),s!==t.artists.length-1?[t._v(", ")]:t._e()],2)})],2):t._e(),t.author?a("div",{staticClass:"entity-info__author"},[t._v("Author: "+t._s(t.author))]):t._e(),"playlist"===t.type?a("entity-action",{attrs:{type:t.type,playlistID:t.playlistID,uri:t.uri,ownerID:t.ownerID}}):t._e()],1),t.followers?a("div",{staticClass:"entity-info__followers"},[a("div",[t._v("Followers")]),t._v("\n    "+t._s(t.followers)+"\n  ")]):t._e(),t.ownerID===t.user.id&&"playlist"===t.type?a("playlist-update-modal"):t._e()],1)},Rs=[],Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"update-modal"},[a("v-modal",{attrs:{modalName:t.modalName,width:"500px"}},[a("template",{slot:"header"},[t._v("\n      Update Playlist Details\n    ")]),a("template",{slot:"body"},[a("form",{staticClass:"update-modal__form"},[a("div",{staticClass:"update-modal__form-left"},[a("v-input-file",{attrs:{"cover-url":t.coverUrl},on:{onFileChange:t.onFileChange}})],1),a("div",{staticClass:"update-modal__form-right"},[a("div",[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])])]),a("template",{slot:"footer"},[a("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),a("v-button",{attrs:{onClick:t.update}},[t._v("Save")])],1)],2)],1)},Us=[],Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"input-file",attrs:{for:"input-file__input"}},[a("div",{staticClass:"input-file__avatar",style:t.avatarStyles,attrs:{"data-text":t.hoverText}},[a("input",{staticClass:"input-file__input",attrs:{id:"input-file__input",type:"file"},on:{change:t.onFileChange}}),a("icon",{staticClass:"input-file__icon",attrs:{name:"camera"}})],1)])},Fs=[],Ms={name:"input-file",data:function(){return{avatarImg:"",avatarFile:""}},props:{hoverText:{type:String,required:!1,default:"Upload photo"},coverUrl:{type:String,required:!1}},computed:{avatarStyles:function(){return"background-image: url(".concat(this.avatarImg,");")}},methods:{onFileChange:function(t){var e=this,a=t.target.files||t.dataTransfer.files,s=new FileReader;a.length&&(this.avatarFile=a[0],s.onload=function(t){e.avatarImg=t.target.result},s.readAsDataURL(this.avatarFile),this.$emit("onFileChange",this.avatarFile))}},created:function(){this.coverUrl&&(this.avatarImg=this.coverUrl)}},Ns=Ms,qs=(a("xl16"),Object(v["a"])(Ns,Ds,Fs,!1,null,"07b50bd9",null)),Ls=qs.exports,Vs={name:"playlist-modal",components:{VButton:lt,VInputFile:Ls,VModal:ht},data:function(){return{modalName:"playlist-update-modal",name:"",description:"",coverUrl:"",coverBase64:""}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile",playlist:"playlist/getPlaylist"})),methods:Object(i["a"])({},Object(c["b"])({addNotification:"notification/addNotification",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists",fetchPlaylist:"playlist/fetchPlaylist"}),{hide:function(){this.$modal.hide(this.modalName)},getPlaylistID:function(){var t=this.playlist.uri.split(":");return t[t.length-1]},onFileChange:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onload=function(){e.coverBase64=a.result}},validate:function(){var t=!0;return this.name?t:(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},updateCover:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.coverBase64){t.next=12;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,st.spotify.playlists.updatePlaylistCover(this.user.id,e,this.coverBase64);case 5:a=t.sent,console.log(a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),update:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,st.spotify.playlists.updatePlaylist(this.user.id,e,this.name,this.description);case 5:this.fetchPlaylist({userID:this.userID,playlistID:e}),this.clearUserPlaylists(),this.getUserPlaylists(),this.addNotification({type:"success",message:"Playlist details updated.",duration:2e3}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:this.hide();case 15:case"end":return t.stop()}},t,this,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),init:function(){this.name=this.playlist.name,this.description=this.playlist.description,this.coverUrl="",this.playlist.images[0]&&(this.coverUrl=this.playlist.images[0].url)}}),watch:{playlist:function(){this.init()}},created:function(){this.init()}},Bs=Vs,$s=(a("wyjD"),Object(v["a"])(Bs,Ss,Us,!1,null,"eb246070",null)),Ks=$s.exports,zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("v-button",{staticClass:"entity-action__btn entity-action__btn--play",attrs:{onClick:t.onPlay}},[t._v("Play")]),a("v-button",{staticClass:"entity-action__btn entity-action__btn--pause",attrs:{onClick:t.onPause}},[t._v("Pause")]),"playlist"===t.type?[a("v-button",{staticClass:"entity-action__btn entity-action__btn--follow",attrs:{onClick:t.onFollow,isBlack:"true"}},[t._v("Follow")]),a("v-button",{staticClass:"entity-action__btn entity-action__btn--unfollow",attrs:{onClick:t.onUnfollow,isBlack:"true"}},[t._v("Unfollow")])]:t._e()],2)},Ys=[],Qs={name:"entity-action",components:{vButton:lt},props:{uri:{type:String,required:!0},playlistID:{type:String,required:!0},ownerID:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{isFollowing:!1}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile",playbackContext:"player/getPlaybackContext"}),{elClass:function(){return["entity-action",{"entity-action--playing":!this.playbackContext.paused&&this.playbackContext.context&&this.playbackContext.context.uri===this.uri,"entity-action--following":this.isFollowing}]}}),methods:Object(i["a"])({},Object(c["b"])({getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"}),{onPlay:function(){this.playbackContext.context.uri===this.uri?st.spotify.player.play():st.spotify.player.play(this.uri)},onPause:function(){st.spotify.player.pause()},onFollow:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.follow.followPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),onUnfollow:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.follow.unfollowPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),checkIfUserFollowPlaylist:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e,a,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.follow.checkIfUserFollowPlaylist(e,a,s);case 3:r=t.sent,this.isFollowing=r.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e,a,s){return t.apply(this,arguments)}}(),init:function(){this.isFollowing=null,this.checkIfUserFollowPlaylist(this.ownerID,this.playlistID,this.user.id)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},Js=Qs,Gs=(a("fv6n"),Object(v["a"])(Js,zs,Ys,!1,null,"ccde1a44",null)),Zs=Gs.exports,Hs={name:"entity-info",components:{PlaylistUpdateModal:Ks,EntityAction:Zs},props:{uri:{required:!0},playlistID:{type:String,required:!1},coverImg:{type:Array,required:!1},type:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!1},author:{type:String,required:!1},artists:{type:Array,required:!1},followers:{type:[Number,String],required:!1},ownerID:{type:String,required:!1}},data:function(){return{}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile"}),{elClass:function(){return["entity-info",{"entity-info--editable":this.ownerID===this.user.id&&"playlist"===this.type}]}}),methods:{onCoverClick:function(){this.$modal.show("playlist-update-modal")}}},Ws=Hs,Xs=(a("+392"),Object(v["a"])(Ws,Is,Rs,!1,null,"209af8be",null)),tr=Xs.exports,er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tracks-list"},t._l(t.tracks,function(e,s){return a("div",{key:s,staticClass:"tracks-list__row",class:t.isActiveTrack(e)},[e.album?a("div",{staticClass:"tracks-list__cell"},[a("img",{staticClass:"tracks-list__img",attrs:{src:e.album.images[2].url,alt:e.album.name}})]):t._e(),a("div",{staticClass:"tracks-list__cell tracks-list__cell--index"},[a("span",{staticClass:"tracks-list__cell-index"},[t._v(t._s(s+1))]),a("track-playback",{attrs:{trackUri:e.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:s}})],1),a("div",{staticClass:"tracks-list__cell"},[a("track-addition",{attrs:{trackID:e.id,isSaved:t.savedTracks[s]},on:{updateTrackstatus:t.onTrackUpdate}})],1),a("div",{staticClass:"tracks-list__cell tracks-list__cell--name"},[t._v("\n      "+t._s(e.name)+"\n      "),e.artists&&t.showArtists?a("span",[t._v("\n           - \n          "),t._l(e.artists,function(s,r){return a("router-link",{key:s.id,staticClass:"tracks-list__link",attrs:{to:{name:"artist",params:{id:s.id}}}},[t._v("\n           "+t._s(s.name)+"\n          "),r!==e.artists.length-1?[t._v(", ")]:t._e()],2)})],2):t._e()]),e.explicit?a("div",{staticClass:"tracks-list__cell tracks-list__cell--explicit"},[a("span",{staticClass:"tracks-list__explicit-label"},[t._v("Explicit")])]):t._e(),a("div",{staticClass:"tracks-list__cell tracks-list__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.duration_ms))+"\n    ")])])}))},ar=[],sr=(a("a1Th"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("button",{staticClass:"track-playback__button track-playback__button--sound-on icon-sound-on"}),a("button",{staticClass:"track-playback__button track-playback__button--play icon-play-circle",on:{click:t.play}}),a("button",{staticClass:"track-playback__button track-playback__button--pause icon-pause-circle",on:{click:t.pause}})])}),rr=[],nr={name:"track-playback",props:{trackUri:{required:!0},tracksUris:{required:!1},contextUri:{required:!1},offset:{required:!1}},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"}),{elClass:function(){var t=this.playback.item&&this.playback.item.uri===this.trackUri;return["track-playback",{"track-playback--active":t,"track-playback--paused":t&&this.context&&this.context.paused}]}}),methods:{play:function(){this.contextUri?st.spotify.player.play(this.contextUri,{position:this.offset}):this.playback.item&&this.playback.item.uri===this.trackUri?st.spotify.player.play():st.spotify.player.play(null,{uri:this.trackUri},this.tracksUris)},pause:function(){st.spotify.player.pause()}}},ir=nr,cr=(a("FKsJ"),Object(v["a"])(ir,sr,rr,!1,null,"68ce11ce",null)),or=cr.exports,lr={name:"tracks-list",components:{TrackAddition:qt,TrackPlayback:or},props:{tracks:{required:!0},showArtists:{type:Boolean,default:!1},contextUri:{required:!1}},data:function(){return{tracksUris:"",tracksIds:"",savedTracks:[]}},computed:Object(i["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"})),methods:{fetchTrackUris:function(){this.tracks&&(this.tracksUris=this.tracks.map(function(t){return t.uri}))},fetchTrackIds:function(){this.tracks&&(this.tracksIds=this.tracks.map(function(t){return t.id}))},checkSavedTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,st.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:s=t.sent,e.offset=e.offset+e.limit,(a=e.items).push.apply(a,Object(Ye["a"])(s.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-list__row--active":e,"tracks-list__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()}},watch:{tracks:function(){this.fetchTrackUris(),this.fetchTrackIds(),this.checkSavedTracks()}}},ur=lr,pr=(a("7Q0j"),Object(v["a"])(ur,er,ar,!1,null,null,null)),mr=pr.exports,dr={name:"artist-view",components:{EntityHeader:Ba,EntityInfo:tr,MediaObject:Ja,MediaContainer:ts,TracksList:mr},data:function(){return{artistID:null,artist:null,tracks:null,albums:null,isMore:null}},methods:Object(i["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{initData:function(){this.artist=null,this.tracks=null,this.albums={limit:25,offset:0,total:1,items:[]}},getArtist:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.artists.getArtist(e);case 3:a=t.sent,this.artist=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getArtistAlbums:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,st.spotify.artists.getArtistAlbums(e,"album,single",this.albums.offset,this.albums.limit);case 4:s=t.sent,this.albums.offset=s.data.offset+this.albums.limit,this.albums.total=s.data.total,(a=this.albums.items).push.apply(a,Object(Ye["a"])(s.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),getArtistTopTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.artists.getArtistTopTracks(e,"PL");case 3:a=t.sent,this.tracks=a.data.tracks,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtistAlbums(this.artistID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),init:function(){this.artistID=this.$route.params.id,this.initData(),this.getArtist(this.artistID),this.getArtistAlbums(this.artistID),this.getArtistTopTracks(this.artistID)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},fr=dr,hr=(a("JErL"),Object(v["a"])(fr,Ps,Es,!1,null,"38ea9a14",null)),vr=hr.exports,yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"album-view"},[a("div",[t.album?a("entity-info",{attrs:{coverImg:t.album.images,type:t.album.type,name:t.album.name,description:t.album.description,artists:t.album.artists,uri:t.album.uri}}):t._e(),t.album&&t.tracks?a("tracks-list",{attrs:{tracks:t.tracks,showArtists:!0,contextUri:t.album.uri}}):t._e()],1)])},br=[],kr={name:"album-view",components:{EntityInfo:tr,TracksList:mr},data:function(){return{albumID:null,album:null,tracks:null}},methods:Object(i["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getAlbum:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.albums.getAlbum(e);case 3:a=t.sent,this.album=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getAlbumTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st.spotify.albums.getAlbumTracks(e);case 3:a=t.sent,this.tracks=a.data.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}),created:function(){this.albumID=this.$route.params.id,this.getAlbum(this.albumID),this.getAlbumTracks(this.albumID)}},_r=kr,gr=(a("tZqE"),Object(v["a"])(_r,yr,br,!1,null,"f8f9de40",null)),wr=gr.exports,Cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"playlist-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"playlist-view__content"},[t.playlist?a("entity-info",{attrs:{coverImg:t.playlist.images,type:t.playlist.type,name:t.playlist.name,description:t.playlist.description,author:t.playlist.owner.display_name,followers:t.playlist.followers.total,uri:t.playlist.uri,playlistID:t.playlistID,ownerID:t.playlist.owner.id}}):t._e(),a("tracks-table",{attrs:{tracks:t.tracks.items,contextUri:t.playlist.uri}})],1)])},xr=[],Tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tracks.length?a("div",{staticClass:"tracks-table"},[a("div",{staticClass:"tracks-table__row tracks-table__row--header"},[a("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"}),a("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"}),a("div",{staticClass:"tracks-table__cell tracks-table__cell--name"},[t._v("\n      Title\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--artist"},[t._v("\n      Artist\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--album"},[t._v("\n      Album\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[a("icon",{attrs:{name:"calendar-alt"}})],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[a("icon",{attrs:{name:"clock"}})],1)]),t._l(t.tracks,function(e,s){return a("div",{key:s,staticClass:"tracks-table__row",class:t.isActiveTrack(e.track),attrs:{"data-id":e.track.id}},[a("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"},[a("track-playback",{attrs:{trackUri:e.track.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:s}})],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"},[a("track-addition",{attrs:{trackID:e.track.id,isSaved:t.savedTracks[s]},on:{updateTrackstatus:t.onTrackUpdate,savedTrackRemove:t.onSavedTrackRemove}})],1),a("div",{staticClass:"tracks-table__cell"},[t._v("\n      "+t._s(e.track.name)+"\n      "),e.track.explicit?a("span",{staticClass:"tracks-table__explicit-label"},[t._v("\n          Explicit\n        ")]):t._e()]),a("div",{staticClass:"tracks-table__cell"},[a("div",t._l(e.track.artists,function(s,r){return a("router-link",{key:r,staticClass:"tracks-table__link",attrs:{to:{name:"artist",params:{id:s.id}}}},[t._v("\n          "+t._s(s.name)+"\n          "),r!==e.track.artists.length-1?[t._v(", ")]:t._e()],2)}))]),a("div",{staticClass:"tracks-table__cell"},[a("router-link",{staticClass:"tracks-table__link",attrs:{to:{name:"album",params:{id:e.track.album.id}}}},[t._v("\n        "+t._s(e.track.album.name)+"\n      ")])],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[t._v("\n      "+t._s(t._f("moment")(e.added_at,"MM-DD-YYYY"))+"\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.track.duration_ms))+"\n    ")])])})],2):t._e()},Ar=[],jr={name:"tracks-table",components:{TrackAddition:qt,TrackPlayback:or},props:{tracks:{required:!0,default:[]},type:{type:String,required:!1},contextUri:{required:!1}},data:function(){return{tracksUris:"",tracksIds:"",savedTracks:[]}},computed:Object(i["a"])({},Object(c["c"])({user:"user/getProfile",playback:"player/getPlayback",context:"player/getPlaybackContext"})),methods:{sortBy:function(t,e){},fetchTrackUris:function(){this.tracksUris=this.tracks.map(function(t){return t.track.uri})},fetchTrackIds:function(){this.tracksIds=this.tracks.map(function(t){return t.track.id})},checkSavedTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,st.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:s=t.sent,e.offset=e.offset+e.limit,(a=e.items).push.apply(a,Object(Ye["a"])(s.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-table__row--active":e,"tracks-table__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()},onSavedTrackRemove:function(t){"library"===this.type&&document.querySelectorAll("[data-id='".concat(t,"']"))[0].remove()}},watch:{tracks:function(){this.fetchTrackUris(),this.fetchTrackIds(),this.checkSavedTracks()}}},Or=jr,Pr=(a("GuTk"),Object(v["a"])(Or,Tr,Ar,!1,null,null,null)),Er=Pr.exports,Ir={name:"playlist-view",components:{EntityInfo:tr,TracksTable:Er},data:function(){return{userID:null,playlistID:null,tracks:null,more:null}},computed:Object(i["a"])({},Object(c["c"])("playlist",{playlist:"getPlaylist"})),methods:Object(i["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage",fetchPlaylist:"playlist/fetchPlaylist"}),{initData:function(){this.tracks={limit:50,offset:0,total:1,items:[]}},getPlaylistTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,st.spotify.playlists.getPlalistsTracks(e,a,this.tracks.offset,this.tracks.limit);case 4:r=t.sent,this.tracks.offset=r.data.offset+this.tracks.limit,this.tracks.total=r.data.total,(s=this.tracks.items).push.apply(s,Object(Ye["a"])(r.data.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.notFoundPage(!0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getPlaylistTracks(this.userID,this.playlistID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),init:function(){var t=this.$route.params,e=t.user_id,a=t.playlist_id;this.userID=e,this.playlistID=a,this.initData(),this.getPlaylistTracks(this.userID,this.playlistID),this.fetchPlaylist({userID:this.userID,playlistID:this.playlistID})}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},Rr=Ir,Sr=(a("FvIv"),Object(v["a"])(Rr,Cr,xr,!1,null,"2ab7793a",null)),Ur=Sr.exports,Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"tracks-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"tracks-view__content"},[a("entity-header",{attrs:{title:"Songs"}}),a("tracks-table",{attrs:{tracks:t.tracks.items,type:"library"}})],1)])},Fr=[],Mr={name:"Tracks",components:{EntityHeader:Ba,TracksTable:Er},data:function(){return{tracks:{limit:25,offset:0,total:1,items:[]},isMore:null}},computed:{},methods:{getTracks:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,st.spotify.library.getTracks(this.tracks.offset,this.tracks.limit);case 4:a=t.sent,this.tracks.offset=a.data.offset+this.tracks.limit,this.tracks.total=a.data.total,(e=this.tracks.items).push.apply(e,Object(Ye["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getTracks());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getTracks()}},Nr=Mr,qr=(a("K4N1"),Object(v["a"])(Nr,Dr,Fr,!1,null,"208b932a",null)),Lr=qr.exports,Vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"albums-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"Albums"}}),a("div",{staticClass:"albums-view__content"},[a("media-container",t._l(t.albums.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.album.id,uri:t.album.uri,coverImg:t.album.images,name:t.album.name,artists:t.album.artists,type:t.album.type}})}))],1)],1)},Br=[],$r={name:"Albums",components:{MediaObject:Ja,EntityHeader:Ba,MediaContainer:ts},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},isMore:null}},methods:{getAlbums:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,st.spotify.library.getAlbums(this.albums.offset,this.albums.limit);case 4:a=t.sent,this.albums.offset=a.data.offset+this.albums.limit,this.albums.total=a.data.total,(e=this.albums.items).push.apply(e,Object(Ye["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getAlbums());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getAlbums()}},Kr=$r,zr=(a("Sn81"),Object(v["a"])(Kr,Vr,Br,!1,null,"08819f2b",null)),Yr=zr.exports,Qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artists-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"Artists"}}),a("div",{staticClass:"artists-view__content"},[a("media-container",[t._l(t.artists.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,name:t.name,type:t.type,coverImg:t.images}})})],2)],1)],1)},Jr=[];a("Oyvg");function Gr(t,e,a){var s;return function(){var r=this,n=arguments,i=function(){s=null,a||t.apply(r,n)},c=a&&!s;clearTimeout(s),s=setTimeout(i,e),c&&t.apply(r,n)}}function Zr(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),s=a.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}var Hr={name:"ArtistsView",components:{MediaObject:Ja,EntityHeader:Ba,MediaContainer:ts},data:function(){return{artists:{limit:1,offset:0,total:1,after:null,items:[]},isMore:null}},methods:{getArtist:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.artists.total>this.artists.offset)){t.next=10;break}return t.next=4,st.spotify.follow.getFollowedArtists(this.artists.limit,this.artists.after);case 4:a=t.sent,this.artists.after=Zr("after",a.data.artists.next),this.artists.total=a.data.artists.total,(e=this.artists.items).push.apply(e,Object(Ye["a"])(a.data.artists.items)),this.artists.offset=this.artists.items.length,this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtist());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getArtist()}},Wr=Hr,Xr=(a("CBnG"),Object(v["a"])(Wr,Qr,Jr,!1,null,"56ac7dc8",null)),tn=Xr.exports;s["a"].use(Re["a"]);var en=new Re["a"]({routes:[{path:"/login",name:"Login",component:Ua},{path:"/",name:"Home",redirect:{name:"browse"}},{path:"/user/:id",name:"user",component:rs},{path:"/artist/:id",name:"artist",component:vr},{path:"/album/:id",name:"album",component:wr},{path:"/genres/:id",name:"genres",component:ws},{path:"/browse",name:"browse",component:us,redirect:{name:"browse-genres"},children:[{name:"browse-genres",path:"genres",component:vs},{name:"browse-new-releases",path:"newreleases",component:Os}]},{path:"/collection/tracks",name:"tracks-collection",component:Lr},{path:"/collection/albums",name:"albums-collection",component:Yr},{path:"/collection/artists",name:"artists-collection",component:tn},{path:"/user/:user_id/playlist/:playlist_id",name:"playlist",component:Ur},{path:"*",beforeEnter:function(t,e,a){Oa.dispatch("app/notFoundPage",!0),a()}}]});en.beforeEach(function(t,e,a){Oa.getters["app/notFound"]&&Oa.dispatch("app/notFoundPage",!1),Oa.getters["auth/getAccessToken"]||"Login"===t.name||(Oa.dispatch("auth/login"),a(!1)),a()});var an=en,sn=a("CHRH"),rn=a("GIGG"),nn=a.n(rn),cn=a("Lq01"),on=a.n(cn),ln=a("KD6U"),un=a.n(ln),pn=a("iAkv");s["a"].directive("scroll",{bind:function(t,e,a){t.classList.add("optiscroll");new Optiscroll(t,{});t.addEventListener("scrollreachbottom",function(t){a.componentInstance?a.componentInstance.$emit("scrollReachBottom",t):a.elm.dispatchEvent(new CustomEvent("scrollReachBottom",t))});var s=Gr(function(t){a.componentInstance?a.componentInstance.$emit("vScroll",t):a.elm.dispatchEvent(new CustomEvent("vScroll",t))},300);t.addEventListener("scroll",s)}}),s["a"].filter("msToMinutes",function(t){var e=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(0);return e+":"+(a<10?"0":"")+a}),s["a"].filter("convertURLs",function(t){var e=t;return e=e.replace(new RegExp("https://open.spotify.com/genre/","g"),"#/genres/"),e=e.replace(new RegExp("spotify:user:spotify:playlist:","g"),"#/user/spotify/playlist/"),e});a("XDoP"),a("0G0I");s["a"].component("icon",sn["a"]),s["a"].component("vueSlider",pn["a"]),s["a"].use(nn.a),s["a"].use(on.a),s["a"].use(un.a),s["a"].config.productionTip=!1,new s["a"]({router:an,store:Oa,render:function(t){return t(Ie)}}).$mount("#app")},Y7Yf:function(t,e,a){},YFXz:function(t,e,a){"use strict";var s=a("Ktai"),r=a.n(s);r.a},ZuVo:function(t,e,a){},evF8:function(t,e,a){"use strict";var s=a("Y7Yf"),r=a.n(s);r.a},fv6n:function(t,e,a){"use strict";var s=a("kHeM"),r=a.n(s);r.a},guJ8:function(t,e,a){},ho3C:function(t,e,a){"use strict";var s=a("QHT0"),r=a.n(s);r.a},itQo:function(t,e,a){"use strict";var s=a("PRv6"),r=a.n(s);r.a},iyvT:function(t,e,a){},kHeM:function(t,e,a){},kUzi:function(t,e,a){},kf6z:function(t,e,a){"use strict";var s=a("xf+s"),r=a.n(s);r.a},lXvA:function(t,e,a){"use strict";var s=a("Kigq"),r=a.n(s);r.a},"o+G1":function(t,e,a){},oc1J:function(t,e,a){"use strict";var s=a("QSTz"),r=a.n(s);r.a},pEG8:function(t,e,a){"use strict";var s=a("1tzi"),r=a.n(s);r.a},q5br:function(t,e,a){"use strict";var s=a("A10n"),r=a.n(s);r.a},qHim:function(t,e,a){},r3qe:function(t,e,a){"use strict";var s=a("9VuK"),r=a.n(s);r.a},rLu8:function(t,e,a){},rtCM:function(t,e,a){},tZqE:function(t,e,a){"use strict";var s=a("ZuVo"),r=a.n(s);r.a},wSHa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAABsCAYAAAB3qm5/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABuZJREFUeNrsne112koQhpd7/P9SAqkAXIFxBXEquHIFMRUYV4BTAaQCcAXgCowrMKnApAJlx8weNrpCXwhLSM9zjo74EJJY7auZ2V3tGAMAAAAAAAAAAAAAezrncqJhGAZ2NeWStZqHTqczRojVCvHdrrrUxZZbDgtCrFaIob4c2WVNlWwVA7tMmizEizM857W9FivqZnvY34Obyz9cZgCECAAIEQAhAgBCBECIAIAQARAiACBEAIQIAAgRACECAEIEQIgAgBABECIAIEQAhAgACBEAIQIAQgRAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAIAQAc6bC4oA6o7mw+w0+T9iEQGwiAD/JwzDrtml664rkrV6ixCh6SJ8s0u3zkK0yyWuKTSZQc1FaE5hrbGIUFus+1erBhprrYd2tWx1jFi3iwKAawrQMC4SzHDPrnotLpvSW8YAcgnRinBsV/ctL5utLYdLK8YN1QSqck2vKJqPlruAYoBKXVPlwVqEcdsKxVpCaRkbUj2gaosIAAgRACECNCXE6EqYEe6Y6/A5hAjwyUy8WP/G1LjxDSFCk+mmvEeIAJ/AD++1DM5Y1PVEGfQNjUWe7Ldx4RezGyG2qfPgDIQITRejiG9T9/PENQVAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAKcnDMNAH3t6C/9G3k/tcoMQAU4rwHf7cmp2jz31IpvI+8AuTqS1ESRjTaEJAux64nNIfoonu6y8z4Z2+Wp2U+b3VJCzTqdzixABjhfh0uzzUYjwbg88aSHfjXXq/In+RqyoqVqMuKZw7kw9Ecqsg9dpjzvJ41F2kWxOM/1IxDhBiAB7NhF3MjEm9NzRx7xTf6oVdGK8U0uJEAHEmolVsy+vM2zuZqMXCzcqeMiR2T+vWNns9sSIUFdBrlKsod8q+nDEcSS1woO6uEP7emA/WxeIU4/JmbhGiFAIFcLElJ+oSEQwShOi2bV+fmyfYds0Mc40Ruyqq7vOuYvlsULENYUiIpRKOzenyRYmFXqp8V8S7tirko7rJpbq5yyLgTk+g/AAiwh5RTi0qzvPeolbV1b6uq5nZSf2WIuE1HhDXb+WdOxf3jnkPWdnWTsFynJJjAhFcC6hNHBcl51D0lZOEfeb2Wfjekz5yaYJhYprCnlxlmhxikSu2ge4yuAmbjxXFiFC63AV/zkaK2meiWUJx3iOiD5JiP2S/le/SguLECFvTGO8+DAaKw1NjrySdn93Kt5x5CtnEXsJiWOyiDXrebjW0jJjToQIJ7eGWzeMzFlCs2tkcRU71TJqq6hLEnMvojwg8kOu58ITa3Dk/7qL2S9ChNpyFbFYviUcROLINEvVi7z/6sWJW89FHB6IJdfeeUyKplyzv5Pz+K5vZ1VNy48Qs1+wZdhOghjr9BqJ1aQLY+Z99mDSR7tEXdufB9zTpBhw5N0MlnnFqNvP9fdbc8QIHYQIp2btVdpe1CLq2NCxLyR5nzYA234vLuA3rfzy2NIssslrWgyoVnHk3SQyi1E74v0RMaMqk9TQj5idkalxfr1T4Y27HCRYM98y5tn3IiEmc8eQrL+9QyKxnz/a78VqBnqO8uS9pGN7jOteUVc0UHfUXc+4GwFCrHmFbCvOMq3jKrgKZVxieUtKNd8l3iRse2u3FQt6r+K61waglQr6t13+jYlltyrCyvMmpgnxKqZpuQ30uPUcbKj5zBvSSsVzZVJaM9UyLlSEQYZGo5m6o9s6FG6aEJP+SBvYoj9jIq7pZ/azrWOsWJIYxWqKdZQwQvoF+5HfPqtlXdRFgGlClD8yaXnF25q/WwJbi8ZVXc9KHdrOTeKUNZZepzzQm9pgc0CQXDtopBAD15eRst28QPfIJGF/A2+7QQ3KYRgth7jPiuyPxhrIQj+DNfSnM1xkcGH7ur0Mc3uNa7WUBjL73dbsBw2cZYOZCO7Yh5cB/MEMkzSLqYLMsk/plnjxfjdMOfa0DoLKaxGlzPTru6T90aEPefgdU5luNC50jSuZJnHSOO7a7Lsl5gfcTze4u3emZfbLa3M4yEWVU8idKZu8IzC0gtVmMMARbtJVzP9yIpQyyfWgsE7cJKNrllo+IsZLtw9t/PnPE/nZId0qJv3h5o9W0yXaysXKZJvqz+elZq7mdU4x/tQYTVwpGZv5pDFeYPbjNL8V6RLQOFDmF3Vz4LzoyBjZ13fPEj75Ll1FRTdIc12L7q9TpLWn7ULUeTfzVPy6lfFlgSkDp2bfUe6zVUu4PvLmEHjWNcqj6+bw53mp2NJ1PK/gBVnAZ1rSwGs8cSnOeiXuf6hdIO96jGU0Y1NMqrUqmEbOaV7m/gAAAAAAAAAAAADgjwADAAjxI2+MHXDqAAAAAElFTkSuQmCC"},wky4:function(t,e,a){"use strict";var s=a("o+G1"),r=a.n(s);r.a},wtbU:function(t,e,a){},wyjD:function(t,e,a){"use strict";var s=a("ETeX"),r=a.n(s);r.a},"xf+s":function(t,e,a){},xl16:function(t,e,a){"use strict";var s=a("wtbU"),r=a.n(s);r.a},yxEA:function(t,e,a){"use strict";var s=a("/nPF"),r=a.n(s);r.a}});
//# sourceMappingURL=app.50d30c0b.js.map